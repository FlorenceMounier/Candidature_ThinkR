var TrackingManager={trackingData:{product:{"tracking-gescom":"","tracking-system":"","tracking-source":"","tracking-product-type":"","tracking-product-id":""},location:{"tracking-domain":window.location.host,"tracking-element-id":"","tracking-page-title":"","tracking-referent-page-title":"","tracking-page":document.location.href}},addTrackers:function(){TrackingManager.trackContainer(jQuery("body"),TrackingManager.trackingData)},trackElement:function(t,a){var e,r;t.hasClass("trackingdone")||(a=TrackingManager.updateNewDataTracking(t,a),e=jQuery.extend(!0,{},a),r=TrackingManager.getEventType(t),jQuery.each(r,function(){var a,n=this;"external_click"==n||"internal_click"==n?t.on("mousedown",{eName:n,actual:e},function(a){1!=a.which&&2!=a.which||(2==a.which&&a.preventDefault(),TrackingManager.track(a.data.eName,a.data.actual))}):"action"==r?void 0!==(a=t.data("tracking-action-type"))&&t.on(a,{eName:n,actual:e},function(a){TrackingManager.track(a.data.eName,a.data.actual)}):TrackingManager.track(n,e)}),t.addClass("trackingdone"))},trackContainer:function(a,i){a.find(".trackingContainer").each(function(){i=jQuery.extend(!0,{},i);var e,r=jQuery(this);r.hasClass("trackingdone")||(i=TrackingManager.updateNewDataTracking(r,i),e=TrackingManager.getEventType(r),jQuery.each(e,function(){var n,a,t=this;"external_click"==t||"internal_click"==t?(n=1,r.find("a").each(function(){var a;url=jQuery(this).attr("href"),"undefined"!=typeof url&&(!(url.match(new RegExp("^http:.*"+window.location.host,"gi"))||0<=url.indexOf("studyrama.")||0<url.indexOf("formaguide")||0<url.indexOf("focusrh")||0<url.indexOf("vivrealetranger")||0<url.indexOf("suisjebienpayer")||0<url.indexOf("mapiaule")||"http"!=url.substr(0,4))||"mailto:"==url.substr(0,7)||0<=url.indexOf("facebook.com/sharer.php")||0<=url.indexOf("twitter.com/share")?(typeLink="external",""==i.location["tracking-element-id"]&&(i.location["tracking-element-id"]="link_external")):(typeLink="internal",""==i.location["tracking-element-id"]&&(i.location["tracking-element-id"]="link_internal")),("external"==typeLink&&"external_click"==t||"internal"==typeLink&&"internal_click"==t)&&((a=jQuery.extend(!0,{},i)).location["tracking-element-id"]+="_"+n,jQuery(this).on("mousedown",{eName:t,actual:a},function(a){1!=a.which&&2!=a.which||(2==a.which&&a.preventDefault(),TrackingManager.track(a.data.eName,a.data.actual))}),n+=1))})):"action"==e?void 0!==(a=r.data("tracking-action-type"))&&r.on(a,{eName:t,actual:i},function(a){TrackingManager.track(a.data.eName,a.data.actual)}):TrackingManager.track(t,i)}),r.find(".trackingElement").each(function(){TrackingManager.trackElement(jQuery(this),i)}),TrackingManager.trackContainer(r,i),r.addClass("trackingdone"))}),a.find(".trackingElement").each(function(){TrackingManager.trackElement(jQuery(this),TrackingManager.trackingData)})},getEventType:function(a){a=a.data("tracking-event-type");return void 0!==a?a.split("|"):[]},makeParamsString:function(a){return string="",jQuery.each(a,function(a,n){string+=n+"|"}),string=string.substring(0,string.length-1),string},updateNewDataTracking:function(t,e){return jQuery.each(e.product,function(a,n){null!=t.data(a)&&(e.product[a]=t.data(a))}),jQuery.each(e.location,function(a,n){null!=t.data(a)&&(e.location[a]=t.data(a))}),e},track:function(a,n){""==n.product["tracking-gescom"]&&(n.product["tracking-gescom"]="NOGESCOM");var t=TrackingManager.makeParamsString(n.product),n=TrackingManager.makeParamsString(n.location);console.log(a+" product:"+t+" location:"+n),__gaTracker("send","event",{eventCategory:a,eventAction:t,eventLabel:n})},removeTracking:function(a){a.find(".trackingdone").off().removeClass("trackingdone")}};jQuery(document).ready(TrackingManager.addTrackers);